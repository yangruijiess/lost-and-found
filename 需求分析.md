# 失物招领平台需求分析
## 一、产品描述
经过小组讨论，我们决定以Web网站形式开发失物招领平台，通过**Github平台**实现代码与资源文件的版本管理，构建专属数据库存储用户信息、失物信息及招领信息，租用云服务器完成网站部署与线上访问。平台核心目标是解决“失物难寻、招领信息分散”的痛点，为用户提供“发布失物、发布招领、信息匹配、互动沟通”的全流程服务，同时通过分级权限管理保障信息真实与平台有序运行。


## 二、产品功能
平台针对**普通用户（失主/拾主）、管理员**两类角色设计差异化功能，覆盖信息发布、查询、互动全场景：
- **普通用户**：注册/登录、完善个人资料（昵称、头像、常用地点）、发布失物信息（含物品描述、时间/地点、图片）、发布招领信息（含物品特征、拾获时间/地点、图片）、查看/编辑/删除自己发布的信息、收藏重点关注的失物/招领信息、私信沟通（联系发布者确认物品）、接收系统推荐的匹配信息；
- **管理员**：审核用户发布的失物/招领信息（过滤虚假信息）、管理用户账号（禁用违规账号）、查看平台数据统计（失物/招领类别分布、区域分布、活跃用户数）、维护标签体系（新增/调整物品类别标签）。


## 三、系统用例
平台核心用户为**普通用户（失主/拾主）** 与**管理员**，二者功能覆盖平台90%核心场景，用例关系如下：
- **普通用户用例**：注册、登录、修改个人资料、发布失物信息、发布招领信息、编辑/删除个人发布信息、搜索失物/招领信息、收藏信息、私信沟通、查看推荐信息；
- **管理员用例**：审核失物/招领信息、管理用户账号（禁用/解禁）、查看数据统计报表、维护标签体系；
- **用例关联**：普通用户发布信息后，需管理员审核通过方可在前台展示；管理员审核不通过时，需向用户反馈驳回原因。

 
！(系统用例)）(images/exported_image)


## 四、系统数据流图
平台数据流转围绕“信息发布-审核-查询-互动”核心流程展开，关键数据流如下：
1. **用户注册/登录流**：用户提交注册信息（用户名/手机号/学号））→系统校验信息有效性→存储用户数据→返回登录令牌（Token）；
2. **信息发布流**：普通用户提交失物/招领信息（文本+图片）→系统暂存数据→推送至管理员审核队列→审核通过后更新信息状态（“已发布”）→同步至前台信息列表；
3. **信息查询流**：用户输入关键词/选择标签→系统检索数据库匹配信息→返回筛选后的信息列表→用户点击查看详情；
4. **互动数据流**：用户发送私信→系统存储消息内容（关联发送者/接收者ID）→推送未读消息提醒→接收者查看/回复消息；
5. **数据统计流**：系统定时聚合数据（失物/招领类别、区域、时间维度）→生成统计结果→管理员访问后台时加载数据报表。


## 五、系统ER图
基于平台功能与数据流转，核心实体及关系如下：
- **核心实体**：用户（User）、失物信息（LostItem）、招领信息（FoundItem）、私信（Message）、收藏（Collection）、标签（Tag）；
- **实体属性**：
  - 用户（User）：用户ID（主键）、昵称、头像URL、手机号（加密存储）、常用地点、角色（普通用户/管理员）、注册时间；
  - 失物信息（LostItem）：失物ID（主键）、用户ID（外键，关联发布者）、物品名称、物品类别、丢失时间、丢失地点、物品描述、图片URL、信息状态（待审核/已发布/已匹配/已失效）、发布时间；
  - 招领信息（FoundItem）：招领ID（主键）、用户ID（外键，关联发布者）、物品名称、物品类别、拾获时间、拾获地点、物品特征、图片URL、信息状态（待审核/已发布/已匹配/已失效）、发布时间；
  - 私信（Message）：消息ID（主键）、发送者ID（外键）、接收者ID（外键）、消息内容、发送时间、已读状态；
  - 收藏（Collection）：收藏ID（主键）、用户ID（外键）、信息类型（失物/招领）、信息ID（外键，关联失物/招领表）、收藏时间；
  - 标签（Tag）：标签ID（主键）、标签名称（如“证件”“电子设备”“饰品”）；
- **实体关系**：
  - 用户与失物信息：1:N（1个用户可发布多个失物信息）；
  - 用户与招领信息：1:N（1个用户可发布多个招领信息）；
  - 用户与私信：1:N（1个用户可发送/接收多个私信）；
  - 用户与收藏：1:N（1个用户可收藏多个信息）；
  - 失物/招领信息与标签：N:M（1个信息可关联多个标签，1个标签可对应多个信息）。

！(ER图)(images/er)


## 六、系统功能描述
平台基于Web开发，设计6个核心页面，覆盖用户从“登录-操作-互动”的全流程需求，页面功能与交互如下：

### 1. 用户登录页面
- **核心功能**：实现用户身份验证，提供多渠道登录入口；
- **页面元素**：
  - 标题栏：显示“失物招领平台-登录”；
  - 登录表单：支持“用户名/学号+密码”登录方式，输入框含格式校验（用户ID是否存在）；
  - 辅助按钮：“注册”（跳转至注册页）、“忘记密码”（跳转至密码重置页）；
  - 反馈提示：密码错误/用户ID不存在时显示红色提示文字，登录成功后自动跳转至首页；
- **交互逻辑**：输入信息后点击“登录”，前端校验通过后向后端发送请求，后端校验通过返回Token，前端存储Token并维持登录状态。

！(用户登录)(images/log_in)

### 2. 用户注册页面
- **核心功能**：完成新用户账号创建，确保信息有效性；
- **页面元素**：
  - 标题栏：显示“失物招领平台-注册”；
  - 注册表单：用户名输入框（需保证唯一性）+学号输入框+邮箱地址输入框+手机号输入框、密码输入框（需8-16位字母+数字）、确认密码输入框（需与密码一致）；
  - 操作按钮：“注册”（禁用状态，表单校验通过后激活）、“已有账号？立即登录”（跳转至登录页）；
- **交互逻辑**：填写完整信息并校验通过后，点击“注册”完成账号创建，自动跳转至“完善个人资料”页。

！(用户注册)(images/sign_in)

### 3. 招领页面
- **核心功能**：展示招领信息，提供发布信息/私信/个人中心入口
- **页面元素**：
  - 顶部导航栏：“失物”“招领””发布信息”“私信”“个人中心”按钮、搜索框（支持关键词搜索，含历史搜索记录）、用户入口（登录后显示头像，未登录显示“登录/注册”）；
  - 左侧筛选条件栏：物品分类标签（如“证件”“电子设备”“饰品”“衣物”等，点击筛选对应信息）、时间范围和地点区域的选择；
  - 中上方功能区：提供排序操作，可对招领信息进行某种排序，并提供发布信息快捷按钮（可跳转至发布信息页面）；
  - 中间信息区：以卡片形式展示信息（含物品图片、名称、物品描述，拾获地点、发布时间、发布人、信息状态），卡片左下方可查看详情进入到身份验证页面，正下方提供收藏，右下方可提联系认领；
  - 底部分页：支持页码切换或下拉加载更多；
- **交互逻辑**：点击分类标签和筛选条件，点击招领信息列表进行排序，实时刷新信息列表；点击搜索框输入关键词，回车或点击搜索图标触发查询；点击信息卡片跳转至招领详情页。

### 4. 失物页面
- **核心功能**：展示失物信息，提供发布信息/私信/个人中心入口
- **页面元素**：
  - 顶部导航栏：“失物”“招领””发布信息”“私信”“个人中心”按钮、搜索框（支持关键词搜索，含历史搜索记录）、用户入口（登录后显示头像，未登录显示“登录/注册”）；
  - 左侧筛选条件栏：物品分类标签（如“证件”“电子设备”“饰品”“衣物”等，点击筛选对应信息）、时间范围和地点区域的选择；
  - 中上方功能区：提供排序操作，可对失物信息进行某种排序，并提供发布信息快捷按钮（可跳转至发布信息页面）；
  - 中间信息区：以卡片形式展示信息（含物品图片、名称、物品描述，丢失/拾获地点、发布时间、发布人、信息状态），卡片左下方可查看详情，正下方提供收藏，右下方可提供线索；
  - 底部分页：支持页码切换或下拉加载更多；
- **交互逻辑**：点击分类标签和筛选条件，点击失物信息列表进行排序，实时刷新信息列表；点击搜索框输入关键词，回车或点击搜索图标触发查询；点击信息卡片跳转至失物详情页。


### 5. 信息发布页面（失物/招领）
- **核心功能**：允许登录用户发布失物或招领信息；
- **页面元素**：
  - 标题栏：显示“发布失物信息”/“发布招领信息”（可切换类型）；
  - 发布表单：
    - 基础信息：物品名称（必填）、物品分类（下拉选择，关联标签）、丢失/拾获时间（时间选择器）、丢失/拾获地点（区域分类选择+具体位置）、联系人姓名、电话、邮箱；
    - 详情信息：物品描述（物品特征、颜色、大小等信息）（多行文本框，需10-500字）、图片上传（支持多图，格式限JPG/PNG，单张不超过5MB，含预览与删除功能）；
  - 操作按钮：“提交发布”（表单校验通过后激活）、“取消”（返回首页，弹出确认弹窗）；
- **交互逻辑**：填写表单并校验通过后，点击“提交发布”，信息暂存至后台并进入管理员审核队列；提交成功后显示“待审核，请耐心等待”提示，跳转至“发布历史”页。

！(发布信息)(images/post_up)

### 6. 个人中心页面
- **核心功能**：管理用户个人信息、发布历史、收藏与私信；
- **页面元素**：
  - 菜单：“个人资料”“发布历史”“我的收藏”“退出登录”；
  - 个人资料页：基本信息、联系方式、隐私设置三个模块、显示当前用户、头像、昵称、手机号，邮箱地址等个人信息、提供“编辑”按钮（可修改资料并保存）；
  - 发布历史页：分类显示“全部”“已解决”“待处理”“失物信息”“招领信息”，每条记录含信息标题、状态（已解决/待处理）、操作按钮（查看详情/编辑，已审核通过的信息仅可删除）；
  - 我的收藏页：显示收藏的信息卡片，分类显示“全部”“失物信息”“招领信息”，含“取消收藏”按钮，点击卡片跳转至详情页；
- **交互逻辑**：点击左侧菜单切换对应页面；编辑资料后点击“保存”，后端更新用户数据；删除发布/取消收藏时，弹出确认弹窗，确认后同步删除数据库记录。

 
！(个人中心)(images/personal_center)

### 7. 管理员后台页面
- **核心功能**：实现平台数据管理与审核操作；
- **页面元素**：
  - 左侧菜单：“仪表盘”“管理帖子”“管理用户”“系统设置”；
  - 仪表盘页：显示总帖子数、总用户数、待审核帖子数、最近活动（新用户注册或者失物/招领信息发布）以及热门物品分类；
  - 管理帖子页：对帖子进行查看、审核通过和删除操作，显示帖子ID、标题、类型、发布者、发布时间、审核状态；
  - 管理用户页：对用户进行查看详情、停用/启用和删除操作，显示用户ID、用户名、学号、邮箱、注册时间、状态（活跃/不活跃）；
  - 系统设置页：含有基本设置（网站名称、是否开始注册、网站描述）和审核设置，可以保存当前设置修改；
- **交互逻辑**：选择菜单，通过按钮对帖子进行查看、审核、删除操作；对用户进行查看、启用/停用、删除操作；可进行系统设置，保存设置。

！(管理员页面)(images/manager)

### 8. 私信页面
- **核心功能**：提供与其他用户的私信功能 
- **页面元素**：
  - 顶部导航栏：“失物”“招领””发布信息”“私信”“个人中心”按钮、搜索框（支持关键词搜索，含历史搜索记录）、用户入口（登录后显示头像，未登录显示“登录/注册”）；
  - 左侧联系人栏：可选择不同联系人进行私信，显示联系人的头像和用户名，上方支持搜索对话内容；
  - 中间聊天框界面：上方显示对方在线状态，聊天消息含有发送时间；
 **交互逻辑**：点击右侧选择联系的用户，在聊天框中输入信息后点击发送给对方，支持搜索聊天内容。

### 9 失物详情页面
- **核心功能**：展示失物的详细信息，方便拾获者了解物品特征以确认是否为目标失物，同时提供与发布者的联系渠道；
- **页面元素**：
  - 物品信息区：包含失物图、物品名称、发布时间，还有物品描述、分类、丢失地点、丢失时间、物品特征等文字信息；
  - 发布者信息区：显示发布者的头像、所属学院、年级，以及 “联系发布者” 按钮；
  - 联系方式区：展示脱敏处理的手机号（中间4位隐藏）并有邮箱以及脱敏的备注；
  - 相关物品推荐区：呈现与该失物相关物品推荐；
 **交互逻辑**：点击 “联系发布者” 按钮，可触发与发布者（如跳转至私信界面）；点击物品缩略，可查看对应角度的大图；浏览 “相关物品推荐” 板块内容时，可点击推荐物品查看详情。
 
### 10 招领详情页面
- **核心功能**：展示招领的详细信息，方便失物者了解物品特征以确认是否为遗失物品，提供发布者的联系渠道。
- **页面元素**：
  - 物品信息区：包含物品图、物品名称、发布时间，还有物品描述、分类、地点、捡到时间、物品特征等文字信息；
  - 发布者信息区：显示发布者的头像、所属学院、年级，以及 “联系发布者” 按钮；
  - 联系方式区：展示脱敏处理的手机号（中间4位隐藏）并有邮箱以及脱敏的备注；
  - 相关物品推荐区：呈现与该招领物品类似推荐；
 **交互逻辑**：点击 “联系发布者” 按钮，可触发与发布者（如跳转至私信界面）；点击物品缩略，可查看对应角度的大图；浏览 “相关物品推荐” 板块内容时，可点击推荐物品查看详情。
 
 ### 11 招领身份验证页面
- **核心功能**：通过让用户回答关于招领物品的相关描述正确性并借助ai功能以验证用户是否为实际遗物者，防止冒领；
- **页面元素**：
  - 问题回答区：包含三个问题，该物品的颜色是什么？；该物品有哪些明显的特征或标记？；该物品有哪些明显的特征或标记？；
 **交互逻辑**：依次在空白框内回答问题，点击下方提交验证按钮即可，ai根据回答给出验证是否通过信息，通过则进入招领物品详情页面。
 
 ！(身份验证页面)(images/identity)